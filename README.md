# 列车时刻表优化的三维STS网格模型

这个项目实现了一个三维时空速度（Space-Time-Speed, STS）网格网络的可视化模型，用于解决列车时刻表优化问题。

## STS模型说明

STS模型是一种用于列车时刻表优化的三维网格表示方法，包括以下三个维度：
- **空间维度(Space)**: 表示列车所在的位置/站点，按固定增量Δd离散化
- **时间维度(Time)**: 表示列车在某一时刻的状态，按固定间隔Δt离散化
- **速度维度(Speed)**: 表示列车在特定时空点的速度，按增量Δd/Δt离散化

### 模型中的核心概念：

1. **STS顶点**: 每个顶点(i, t, u)表示一个特定状态，其中：
   - i: 空间节点/车站
   - t: 时间戳
   - u: 在空间节点i且时间t的瞬时速度

2. **STS弧**: 每条有向弧(i, j, t, s, u, v)表示列车的一段运行，其中：
   - 从节点i在时间t且速度为v移动
   - 到节点j在时间s且速度为u

3. **网络构建原则**:
   - 空间、时间和速度都按照固定增量离散化
   - 在非停靠站，不允许速度为0的顶点
   - 在必须停靠站，必须经过速度为0的顶点
   - 列车在每个节点的速度不能超过速度上限

## 运行代码

本项目使用Python和Matplotlib实现STS网格的可视化。

### 环境要求：
- Python 3.6+
- NumPy
- Matplotlib

### 安装依赖：
```bash
pip install numpy matplotlib
```

### 运行代码：
```bash
python sts_model.py
```

运行后将生成一个三维STS网格模型图，并保存为`sts_model_visualization.png`。

## 可视化说明

在生成的可视化图中：
- 蓝色点表示STS网格顶点
- 绿色箭头表示匀速运行路径
- 红色箭头表示加速运行路径
- 橙色箭头表示减速运行路径
- 紫色方块表示列车停靠站（速度为0）
- 绿色圆点表示列车起点
- 红色X表示列车终点

## 模型应用

这个STS网格模型可以用于：
1. 列车运行时刻表优化
2. 多列车调度冲突检测与解决
3. 高速铁路网络容量分析
4. 铁路系统能耗优化 